{% extends 'layout.html' %}
{% block title %} List Product {% endblock %}
{% block body %}


<div class="container">
 <div class="starter-template">
 <h1>List Product</h1>
 <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Tambah Data</button>
 <table class="table table-striped">
 <thead>
 <tr>
 <td>Nama</td>
 <td>Stok</td>
 <td>Deskripsi</td>
 <td>Harga</td>
 <td>Gambar</td>
 <td>Aksi</td>
 </tr>
 </thead>
 <tbody>
 {% for row in products %}
 <tr>
 <td>{{ row.1 }}</td>
 <td>{{ row.7 }}</td>
 <td>{{ row.2 }}</td>
 <td>{{ row.3 }}</td>
 <td><img c src="{{row.4}}" alt="produk"></td>
 <td>
 <a href="#!" class="btn btn-warning btn-xs" data-toggle="modal" data-target="#modalEdit{{ row.0 }}">Edit</a>
 <a href="/user-product/delete-{{ row.0 }}" class="btn btn-danger btn-xs" onclick="return confirm('Yakin ingin hapus?')">Hapus</a>


 </td>


 </tr>




 <!-- Modal -->


 <div id="modalEdit{{ row.0 }}" class="modal fade" role="dialog">


 <div class="modal-dialog">


 <div class="modal-content">


 <div class="modal-header">


 <button type="button" class="close" style="top: ;" data-dismiss="modal">&times;</button>


 <h4 class="modal-title">Edit Data</h4>


 </div>


 <div class="modal-body">


 <form action="{{ url_for('updateProduct') }}" method="POST" enctype="multipart/form-data">


 <div class="form-group">


 <label>Nama:</label>
 <input type="hidden" name="id" value="{{ row.0 }}">
 <input type="text" class="form-control" name="nama" value="{{ row.1 }}">

 <label>Jumlah Stok:</label>
 <input type="number" class="form-control" name="stock" value="{{ row.7 }}">

 <label>Deskripsi:</label>
 <input type="text" class="form-control" name="deskripsi" value="{{ row.2 }}">

 <label>Harga:</label>
 <input type="number" class="form-control" name="harga" value="{{ row.3 }}">

 <label>Gambar:</label>
 <input type="file" class="form-control-file" name="image_product" value="{{ row.4 }}">
 </div>


 <div class="form-group">


 <button class="btn btn-warning" type="submit">Update</button>


 </div>


 </form>


 </div>


 <div class="modal-footer">


 <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>


 </div>


 </div>


 </div>


 </div>




{% else %}


 <tr>


 <td colspan="3">Unbelievable. No entries here so far</td>


 </tr>


{% endfor %}


 </tbody>


 </table>


 </div>




</div>







<!-- Modal -->


<div id="myModal" class="modal fade" role="dialog">


 <div class="modal-dialog">


 <div class="modal-content">


 <div class="modal-header">


 <button type="button" class="close" style="top: -10px; right: -10px;" data-dismiss="modal">&times;</button>


 <h4 class="modal-title">Tambah Data</h4>


 </div>


 <div class="modal-body">


 <form action="{{ url_for('insertProduct') }}" method="POST" enctype="multipart/form-data">


 <div class="form-group">


 <label>Nama:</label>
 <input type="text" class="form-control" name="nama">

 <label>Jumlah Stok:</label>
 <input type="number" class="form-control" name="stock">

 <label>Deskripsi:</label>
 <input type="text" class="form-control" name="deskripsi">

 <label>Harga:</label>
 <input type="number" class="form-control" name="harga">

 <label>Gambar:</label>
 <input type="file" class="form-control-file" name='image_product'>

 </div>


 <div class="form-group">


 <button class="btn btn-primary" type="submit">Simpan</button>


 </div>


 </form>


 </div>


 <div class="modal-footer">


 <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>


 </div>


 </div>


 </div>


</div>


 



<!-- /.container -->


{% endblock %}